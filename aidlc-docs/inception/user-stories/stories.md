# User Stories - 테이블오더 서비스

## Overview
테이블오더 서비스의 사용자 스토리를 Feature-Based로 구성하였습니다. 각 스토리는 INVEST 원칙을 따르며, Given-When-Then 형식의 Acceptance Criteria를 포함합니다.

**우선순위 표기**:
- **Must Have**: MVP 필수 기능
- **Should Have**: MVP에 포함되면 좋은 기능
- **Could Have**: 향후 추가 고려 기능
- **Won't Have**: 현재 범위에서 제외

---

## Feature 1: 인증 및 세션 관리 (Authentication & Session Management)

### Story 1.1: 테이블 태블릿 초기 설정
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 테이블 태블릿을 초기 설정할 수 있다  
**So that** 고객이 해당 테이블에서 자동으로 로그인하여 주문할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 관리 시스템에 로그인한 상태
- **When** 테이블 초기 설정 화면에서 매장 ID, 테이블 번호, 4자리 PIN을 입력하고 저장
- **Then** 테이블 태블릿에 로그인 정보가 로컬 저장되고 16시간 세션이 생성된다
- **And** 이후 태블릿 접속 시 자동 로그인된다
- **Error Case**: PIN이 4자리가 아니면 에러 메시지 표시

---

### Story 1.2: 테이블 태블릿 자동 로그인
**Priority**: Must Have

**As a** 고객  
**I want** 테이블 태블릿이 자동으로 로그인되어 있다  
**So that** 별도의 로그인 절차 없이 바로 메뉴를 주문할 수 있다

**Acceptance Criteria**:
- **Given** 테이블 태블릿이 초기 설정 완료된 상태
- **When** 고객이 태블릿 화면을 터치하거나 브라우저를 열면
- **Then** 자동으로 로그인되어 메뉴 화면이 표시된다
- **And** 세션은 16시간 동안 유지된다
- **Error Case**: 세션이 만료되면 관리자에게 재설정 요청 메시지 표시

---

### Story 1.3: 관리자 로그인
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 매장 관리 시스템에 로그인할 수 있다  
**So that** 주문 관리 및 매장 운영 기능에 접근할 수 있다

**Acceptance Criteria**:
- **Given** 관리자 로그인 화면
- **When** 매장 식별자, 사용자명, 비밀번호를 입력하고 로그인 버튼 클릭
- **Then** JWT 토큰이 발급되고 관리자 대시보드로 이동한다
- **And** 16시간 동안 세션이 유지된다
- **And** 브라우저 새로고침 시에도 세션이 유지된다
- **Error Case**: 잘못된 인증 정보 입력 시 에러 메시지 표시
- **Error Case**: 5회 로그인 실패 시 일시 잠금 처리

---

### Story 1.4: 테이블 세션 라이프사이클 관리
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 테이블 세션을 시작하고 종료할 수 있다  
**So that** 고객 그룹별로 주문을 구분하고 테이블을 초기화할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 테이블 관리 화면에 접근한 상태
- **When** 특정 테이블의 "세션 종료" 버튼을 클릭하고 확인
- **Then** 해당 테이블의 현재 주문 내역이 OrderHistory로 이동한다
- **And** 테이블의 현재 주문 목록과 총 주문액이 0으로 리셋된다
- **And** 새로운 고객의 첫 주문 시 새로운 세션이 자동 시작된다
- **Error Case**: 미결제 주문이 있으면 경고 메시지 표시 (향후 결제 기능 추가 시)

---

### Story 1.5: 세션 만료 처리
**Priority**: Must Have

**As a** 고객 또는 관리자  
**I want** 세션이 만료되기 전에 알림을 받는다  
**So that** 작업 중인 내용을 잃지 않을 수 있다

**Acceptance Criteria**:
- **Given** 사용자가 시스템을 사용 중인 상태
- **When** 세션 만료 5분 전이 되면
- **Then** 세션 만료 경고 팝업이 표시된다
- **And** "세션 연장" 버튼을 클릭하면 세션이 16시간 연장된다
- **And** 세션이 만료되면 자동으로 로그아웃되고 로그인 화면으로 이동한다
- **Error Case**: 고객 태블릿의 경우 관리자에게 재설정 요청 메시지 표시
- **Error Case**: 세션 연장 실패 시 에러 메시지 표시

---

## Feature 2: 메뉴 탐색 및 조회 (Menu Browsing)

### Story 2.1: 메뉴 카테고리별 조회
**Priority**: Must Have

**As a** 고객  
**I want** 메뉴를 카테고리별로 탐색할 수 있다  
**So that** 원하는 종류의 음식을 쉽게 찾을 수 있다

**Acceptance Criteria**:
- **Given** 고객이 메뉴 화면에 접근한 상태
- **When** 화면이 로드되면
- **Then** 메뉴가 카테고리별로 분류되어 표시된다
- **And** 각 메뉴는 카드 형태로 표시되며 이름, 가격, 이미지가 포함된다
- **And** 모든 버튼은 최소 44x44px 크기로 터치 친화적이다 (NFR-3: 사용성)
- **And** 페이지 로딩 시간은 3초 이내다 (NFR-1: 성능)
- **Error Case**: 메뉴 로딩 실패 시 에러 메시지 표시

---

### Story 2.2: 메뉴 상세 정보 확인
**Priority**: Must Have

**As a** 고객  
**I want** 메뉴의 상세 정보를 확인할 수 있다  
**So that** 메뉴에 대한 충분한 정보를 얻고 선택할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 메뉴 목록을 보고 있는 상태
- **When** 특정 메뉴 카드를 클릭하면
- **Then** 메뉴 상세 화면이 표시된다
- **And** 메뉴명, 가격, 설명, 이미지가 표시된다
- **And** "장바구니에 추가" 버튼이 표시된다
- **Error Case**: 이미지 로딩 실패 시 기본 이미지 표시

---

## Feature 3: 장바구니 관리 (Cart Management)

### Story 3.1: 장바구니에 메뉴 추가
**Priority**: Must Have

**As a** 고객  
**I want** 선택한 메뉴를 장바구니에 추가할 수 있다  
**So that** 여러 메뉴를 선택한 후 한 번에 주문할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 메뉴 상세 화면 또는 메뉴 목록을 보고 있는 상태
- **When** "장바구니에 추가" 버튼을 클릭하면
- **Then** 해당 메뉴가 장바구니에 추가된다
- **And** 장바구니 아이콘에 담긴 메뉴 개수가 표시된다
- **And** 장바구니 데이터가 로컬 저장소에 저장된다
- **Error Case**: 로컬 저장소 접근 실패 시 에러 메시지 표시

---

### Story 3.2: 장바구니 수량 조절
**Priority**: Must Have

**As a** 고객  
**I want** 장바구니에 담긴 메뉴의 수량을 조절할 수 있다  
**So that** 원하는 만큼 주문할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 장바구니 화면을 보고 있는 상태
- **When** 특정 메뉴의 수량 증가(+) 또는 감소(-) 버튼을 클릭하면
- **Then** 해당 메뉴의 수량이 증가 또는 감소한다
- **And** 총 금액이 실시간으로 재계산되어 표시된다
- **And** 수량이 0이 되면 해당 메뉴가 장바구니에서 제거된다
- **Error Case**: 수량이 음수가 되지 않도록 제한

---

### Story 3.3: 장바구니에서 메뉴 삭제
**Priority**: Must Have

**As a** 고객  
**I want** 장바구니에서 특정 메뉴를 삭제할 수 있다  
**So that** 원하지 않는 메뉴를 제거할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 장바구니 화면을 보고 있는 상태
- **When** 특정 메뉴의 "삭제" 버튼을 클릭하면
- **Then** 해당 메뉴가 장바구니에서 즉시 제거된다
- **And** 총 금액이 재계산되어 표시된다
- **And** 장바구니가 비어있으면 "장바구니가 비어있습니다" 메시지 표시

---

### Story 3.4: 장바구니 전체 비우기
**Priority**: Must Have

**As a** 고객  
**I want** 장바구니를 한 번에 비울 수 있다  
**So that** 처음부터 다시 메뉴를 선택할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 장바구니 화면을 보고 있는 상태
- **When** "장바구니 비우기" 버튼을 클릭하고 확인하면
- **Then** 장바구니의 모든 메뉴가 제거된다
- **And** 총 금액이 0원으로 표시된다
- **And** 확인 팝업이 표시되어 실수로 삭제하는 것을 방지한다

---

### Story 3.5: 장바구니 데이터 지속성
**Priority**: Must Have

**As a** 고객  
**I want** 페이지를 새로고침해도 장바구니 내용이 유지된다  
**So that** 실수로 페이지를 닫아도 다시 메뉴를 선택할 필요가 없다

**Acceptance Criteria**:
- **Given** 고객이 장바구니에 메뉴를 담은 상태
- **When** 브라우저를 새로고침하거나 페이지를 다시 열면
- **Then** 장바구니에 담긴 메뉴와 수량이 그대로 유지된다
- **And** 총 금액도 정확하게 표시된다
- **Error Case**: 로컬 저장소 데이터가 손상되면 장바구니 초기화 및 알림

---

## Feature 4: 주문 생성 및 관리 (Order Creation & Management)

### Story 4.1: 주문 생성
**Priority**: Must Have

**As a** 고객  
**I want** 장바구니의 메뉴를 주문으로 확정할 수 있다  
**So that** 주방에서 음식을 준비할 수 있다

**Acceptance Criteria**:
- **Given** 고객이 장바구니에 메뉴를 담은 상태
- **When** "주문하기" 버튼을 클릭하고 최종 확인하면
- **Then** 주문이 서버로 전송되고 주문 번호가 생성된다
- **And** 주문은 Order 엔티티로 저장되고 각 메뉴는 OrderItem으로 저장된다
- **And** 주문에는 매장 ID, 테이블 ID, 세션 ID가 포함된다
- **And** 주문 성공 메시지와 주문 번호가 표시된다
- **And** 장바구니가 자동으로 비워진다
- **And** 메뉴 화면으로 자동 리다이렉트된다
- **Error Case**: 주문 실패 시 에러 메시지 표시 및 장바구니 유지 (NFR-4: 신뢰성)

---

### Story 4.2: 주문 내역 조회
**Priority**: Must Have

**As a** 고객  
**I want** 내가 주문한 내역을 확인할 수 있다  
**So that** 어떤 메뉴를 주문했는지, 얼마나 주문했는지 알 수 있다

**Acceptance Criteria**:
- **Given** 고객이 주문 내역 화면에 접근한 상태
- **When** 화면이 로드되면
- **Then** 현재 테이블 세션의 모든 주문이 시간 순으로 표시된다
- **And** 각 주문은 주문 번호, 시각, 메뉴 목록, 수량, 금액, 상태를 포함한다
- **And** 이전 세션의 주문은 표시되지 않는다
- **Error Case**: 주문 내역 로딩 실패 시 에러 메시지 표시

---

### Story 4.3: 주문 상태 실시간 업데이트
**Priority**: Must Have

**As a** 고객  
**I want** 주문 상태가 실시간으로 업데이트된다  
**So that** 음식이 언제 나올지 알 수 있다

**Acceptance Criteria**:
- **Given** 고객이 주문 내역 화면을 보고 있는 상태
- **When** 관리자가 주문 상태를 변경하면
- **Then** SSE를 통해 2초 이내에 고객 화면에 상태가 업데이트된다 (NFR-1: 성능)
- **And** 상태는 "대기중", "준비중", "완료", "취소" 중 하나로 표시된다
- **And** 상태 변경 시 시각적 피드백(색상 변경)이 제공된다
- **Error Case**: SSE 연결 실패 시 재연결 시도 및 알림
- **Error Case**: 재연결 3회 실패 시 "실시간 업데이트 불가" 메시지 표시 및 수동 새로고침 안내

---

## Feature 5: 실시간 주문 모니터링 (Real-time Order Monitoring)

### Story 5.1: 실시간 주문 대시보드
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 들어오는 주문을 실시간으로 확인할 수 있다  
**So that** 신속하게 주문을 처리할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 주문 모니터링 화면에 접근한 상태
- **When** 고객이 새로운 주문을 생성하면
- **Then** SSE를 통해 2초 이내에 관리자 화면에 주문이 표시된다 (NFR-1: 성능)
- **And** 신규 주문은 시각적으로 강조된다 (색상, 애니메이션)
- **And** 테이블별로 카드 형태로 표시된다
- **And** 각 테이블 카드에 총 주문액이 표시된다
- **And** 각 테이블 카드에 최신 주문 3개가 미리보기로 표시된다
- **And** 더 많은 주문이 있으면 "더보기" 표시
- **Error Case**: SSE 연결 실패 시 재연결 시도 및 알림
- **Error Case**: 재연결 3회 실패 시 "실시간 업데이트 불가" 메시지 표시 및 수동 새로고침 안내

---

### Story 5.2: 테이블별 주문 상세 보기
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 특정 테이블의 주문 상세 내역을 확인할 수 있다  
**So that** 해당 테이블의 모든 주문을 파악할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 주문 모니터링 화면을 보고 있는 상태
- **When** 특정 테이블 카드를 클릭하면
- **Then** 해당 테이블의 전체 주문 목록이 상세 화면에 표시된다
- **And** 각 주문의 메뉴, 수량, 금액, 상태가 표시된다
- **And** 주문 시각 순으로 정렬된다
- **Error Case**: 주문 데이터 로딩 실패 시 에러 메시지 표시

---

### Story 5.3: 주문 상태 변경
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 주문 상태를 변경할 수 있다  
**So that** 주문 진행 상황을 고객에게 알릴 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 주문 상세 화면을 보고 있는 상태
- **When** 특정 주문의 상태 변경 버튼을 클릭하면
- **Then** 주문 상태가 "대기중" → "준비중" → "완료" 순서로 변경된다
- **And** 상태 변경이 즉시 서버에 저장된다
- **And** SSE를 통해 고객 화면에 실시간으로 반영된다
- **And** "취소" 상태로도 변경 가능하다
- **Error Case**: 상태 변경 실패 시 에러 메시지 표시 및 이전 상태 유지

---

### Story 5.4: 테이블별 필터링
**Priority**: Should Have

**As a** 매장 관리자  
**I want** 특정 테이블의 주문만 필터링하여 볼 수 있다  
**So that** 많은 테이블 중 원하는 테이블을 빠르게 찾을 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 주문 모니터링 화면을 보고 있는 상태
- **When** 테이블 번호 필터를 선택하면
- **Then** 해당 테이블의 주문만 표시된다
- **And** 필터를 해제하면 모든 테이블의 주문이 다시 표시된다
- **Error Case**: 존재하지 않는 테이블 번호 입력 시 알림

---

### Story 5.5: 동시 주문 상태 변경 처리
**Priority**: Should Have

**As a** 매장 관리자  
**I want** 다른 관리자가 이미 변경한 주문 상태를 볼 수 있다  
**So that** 중복 처리를 방지할 수 있다

**Acceptance Criteria**:
- **Given** 두 명의 관리자가 동시에 같은 주문을 보고 있는 상태
- **When** 한 관리자가 주문 상태를 변경하면
- **Then** 다른 관리자의 화면에도 SSE를 통해 실시간으로 반영된다
- **And** 이미 변경된 상태를 다시 변경하려고 하면 최신 상태가 표시된다
- **Error Case**: 동시 변경 충돌 시 "주문 상태가 이미 변경되었습니다" 메시지 표시
- **Error Case**: 충돌 발생 시 최신 상태로 자동 새로고침

---

## Feature 6: 테이블 관리 (Table Management)

### Story 6.1: 주문 삭제
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 특정 주문을 삭제할 수 있다  
**So that** 잘못된 주문이나 취소된 주문을 제거할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 테이블 관리 화면을 보고 있는 상태
- **When** 특정 주문의 "삭제" 버튼을 클릭하고 확인하면
- **Then** 해당 주문이 시스템에서 삭제된다
- **And** 테이블의 총 주문액이 재계산된다
- **And** 확인 팝업이 표시되어 실수로 삭제하는 것을 방지한다
- **And** 모든 상태의 주문을 삭제할 수 있다
- **Error Case**: 삭제 실패 시 에러 메시지 표시

---

### Story 6.2: 과거 주문 내역 조회
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 완료된 테이블 세션의 과거 주문 내역을 조회할 수 있다  
**So that** 과거 주문 데이터를 확인하고 분석할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 과거 내역 조회 화면에 접근한 상태
- **When** 특정 테이블을 선택하면
- **Then** 해당 테이블의 과거 주문 내역이 시간 역순으로 표시된다
- **And** 각 주문은 주문 번호, 시각, 메뉴 목록, 총 금액, 완료 시각을 포함한다
- **And** 최대 1년간의 데이터가 보관된다
- **Error Case**: 데이터 로딩 실패 시 에러 메시지 표시

---

### Story 6.3: 날짜별 과거 내역 필터링
**Priority**: Should Have

**As a** 매장 관리자  
**I want** 특정 날짜 범위의 과거 주문 내역을 필터링할 수 있다  
**So that** 원하는 기간의 데이터만 확인할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 과거 내역 조회 화면을 보고 있는 상태
- **When** 시작 날짜와 종료 날짜를 선택하고 "조회" 버튼을 클릭하면
- **Then** 해당 기간의 주문 내역만 표시된다
- **And** 날짜 범위가 유효하지 않으면 에러 메시지 표시
- **Error Case**: 종료 날짜가 시작 날짜보다 이전이면 에러 메시지 표시

---

## Feature 7: 메뉴 관리 (Menu Management)

### Story 7.1: 메뉴 조회
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 등록된 메뉴 목록을 조회할 수 있다  
**So that** 현재 메뉴 상태를 확인할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 메뉴 관리 화면에 접근한 상태
- **When** 화면이 로드되면
- **Then** 모든 메뉴가 카테고리별로 표시된다
- **And** 각 메뉴는 이름, 가격, 설명, 이미지, 노출 순서를 포함한다
- **And** 메뉴 수정 및 삭제 버튼이 표시된다
- **Error Case**: 메뉴 로딩 실패 시 에러 메시지 표시

---

### Story 7.2: 메뉴 등록
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 새로운 메뉴를 등록할 수 있다  
**So that** 고객에게 새로운 메뉴를 제공할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 메뉴 등록 화면에 접근한 상태
- **When** 메뉴명, 가격, 설명, 카테고리, 이미지를 입력하고 "등록" 버튼을 클릭하면
- **Then** 새로운 메뉴가 시스템에 저장된다
- **And** 이미지 파일이 서버에 업로드되고 경로가 저장된다
- **And** 이미지 파일 형식은 JPG, PNG만 허용된다
- **And** 이미지 파일 크기는 최대 5MB로 제한된다
- **And** 이미지 업로드 중 진행률이 표시된다
- **And** 메뉴 목록에 즉시 반영된다
- **And** 고객 화면에서도 새 메뉴가 표시된다
- **Error Case**: 필수 필드 누락 시 에러 메시지 표시
- **Error Case**: 가격이 음수이거나 범위를 벗어나면 에러 메시지 표시
- **Error Case**: 지원하지 않는 파일 형식 업로드 시 에러 메시지 표시
- **Error Case**: 파일 크기 초과 시 에러 메시지 표시
- **Error Case**: 이미지 업로드 실패 시 에러 메시지 표시

---

### Story 7.3: 메뉴 수정
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 기존 메뉴 정보를 수정할 수 있다  
**So that** 가격 변경이나 설명 업데이트를 반영할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 메뉴 목록을 보고 있는 상태
- **When** 특정 메뉴의 "수정" 버튼을 클릭하고 정보를 변경한 후 "저장"하면
- **Then** 메뉴 정보가 업데이트된다
- **And** 이미지를 새로 업로드하면 기존 이미지가 교체된다
- **And** 이미지 파일 형식은 JPG, PNG만 허용된다
- **And** 이미지 파일 크기는 최대 5MB로 제한된다
- **And** 이미지 업로드 중 진행률이 표시된다
- **And** 변경 사항이 즉시 고객 화면에 반영된다
- **Error Case**: 필수 필드 누락 시 에러 메시지 표시
- **Error Case**: 지원하지 않는 파일 형식 업로드 시 에러 메시지 표시
- **Error Case**: 파일 크기 초과 시 에러 메시지 표시
- **Error Case**: 수정 실패 시 에러 메시지 표시 및 이전 상태 유지

---

### Story 7.4: 메뉴 삭제
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 메뉴를 삭제할 수 있다  
**So that** 더 이상 제공하지 않는 메뉴를 제거할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 메뉴 목록을 보고 있는 상태
- **When** 특정 메뉴의 "삭제" 버튼을 클릭하고 확인하면
- **Then** 해당 메뉴가 시스템에서 삭제된다
- **And** 고객 화면에서도 즉시 제거된다
- **And** 확인 팝업이 표시되어 실수로 삭제하는 것을 방지한다
- **Error Case**: 삭제 실패 시 에러 메시지 표시

---

### Story 7.5: 메뉴 노출 순서 조정
**Priority**: Should Have

**As a** 매장 관리자  
**I want** 메뉴의 노출 순서를 조정할 수 있다  
**So that** 추천 메뉴나 인기 메뉴를 상단에 배치할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 메뉴 목록을 보고 있는 상태
- **When** 메뉴를 드래그 앤 드롭하거나 순서 번호를 변경하면
- **Then** 메뉴 노출 순서가 변경된다
- **And** 변경된 순서가 즉시 저장된다
- **And** 고객 화면에서도 변경된 순서로 표시된다
- **Error Case**: 순서 변경 실패 시 에러 메시지 표시 및 이전 순서 유지

---

## Feature 8: 다중 매장 관리 (Multi-Store Management)

### Story 8.1: 매장 선택 및 전환
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 여러 매장 중 관리할 매장을 선택할 수 있다  
**So that** 각 매장을 독립적으로 관리할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 로그인한 상태
- **When** 매장 선택 드롭다운에서 특정 매장을 선택하면
- **Then** 해당 매장의 주문, 메뉴, 테이블 정보가 표시된다
- **And** 다른 매장의 데이터는 표시되지 않는다
- **And** 선택한 매장 정보가 세션에 저장된다
- **Error Case**: 매장 전환 실패 시 에러 메시지 표시

---

### Story 8.2: 매장별 메뉴 관리
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 각 매장의 메뉴를 독립적으로 관리할 수 있다  
**So that** 매장별로 다른 메뉴를 제공할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 특정 매장을 선택한 상태
- **When** 메뉴 관리 화면에 접근하면
- **Then** 해당 매장의 메뉴만 표시된다
- **And** 메뉴 등록, 수정, 삭제는 선택한 매장에만 적용된다
- **And** 다른 매장의 메뉴에는 영향을 주지 않는다
- **Error Case**: 매장 선택 없이 메뉴 관리 시도 시 에러 메시지 표시

---

### Story 8.3: 매장별 테이블 설정
**Priority**: Must Have

**As a** 매장 관리자  
**I want** 각 매장의 테이블을 독립적으로 설정할 수 있다  
**So that** 매장별로 다른 테이블 구성을 가질 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 특정 매장을 선택한 상태
- **When** 테이블 관리 화면에 접근하면
- **Then** 해당 매장의 테이블만 표시된다 (최대 10개)
- **And** 테이블 초기 설정은 선택한 매장에만 적용된다
- **And** 다른 매장의 테이블에는 영향을 주지 않는다
- **Error Case**: 테이블 수가 10개를 초과하면 에러 메시지 표시

---

### Story 8.4: 통합 주문 현황 대시보드
**Priority**: Could Have

**As a** 매장 관리자  
**I want** 여러 매장의 주문 현황을 한 화면에서 확인할 수 있다  
**So that** 전체 매장의 운영 상황을 파악할 수 있다

**Acceptance Criteria**:
- **Given** 관리자가 통합 대시보드에 접근한 상태
- **When** 화면이 로드되면
- **Then** 모든 매장의 주문 현황이 매장별로 그룹화되어 표시된다
- **And** 각 매장의 총 주문 수와 총 매출이 표시된다
- **And** 특정 매장을 클릭하면 해당 매장의 상세 화면으로 이동한다
- **Error Case**: 데이터 로딩 실패 시 에러 메시지 표시

---

## Story Summary

### Must Have (MVP 필수) - 총 27개
- 인증 및 세션 관리: 5개 (Story 1.5 추가)
- 메뉴 탐색 및 조회: 2개
- 장바구니 관리: 5개
- 주문 생성 및 관리: 3개
- 실시간 주문 모니터링: 3개
- 테이블 관리: 2개
- 메뉴 관리: 4개
- 다중 매장 관리: 3개

### Should Have (MVP 포함 권장) - 총 4개
- 실시간 주문 모니터링: 2개 (Story 5.5 추가)
- 테이블 관리: 1개
- 메뉴 관리: 1개

### Could Have (향후 고려) - 총 1개
- 다중 매장 관리: 1개

### Won't Have (현재 범위 제외)
- 결제 처리
- 영수증 발행
- 포인트/쿠폰 시스템
- 푸시 알림
- 주방 디스플레이 시스템
- 재고 관리
- 직원 관리
- 예약 시스템
- 고객 리뷰
- 외부 플랫폼 연동

---

## INVEST Criteria Validation

모든 스토리는 다음 INVEST 원칙을 준수합니다:

✅ **Independent**: 각 스토리는 독립적으로 구현 가능  
✅ **Negotiable**: 구현 방법은 개발팀과 협의 가능  
✅ **Valuable**: 각 스토리는 사용자에게 명확한 가치 제공  
✅ **Estimable**: 구현 복잡도 추정 가능  
✅ **Small**: 대부분 1-2 스프린트 내 완료 가능한 크기  
✅ **Testable**: Given-When-Then 형식의 명확한 테스트 기준 존재

---

## Notes

- 모든 스토리는 Given-When-Then 형식의 Acceptance Criteria를 포함합니다
- 에러 케이스는 각 스토리의 Acceptance Criteria에 포함되어 있습니다
- 실시간 기능(SSE)은 고객과 관리자 모두에게 적용됩니다
- 세션 관리는 기술적 측면을 포함하여 상세히 정의되었습니다
- MoSCoW 우선순위를 사용하여 MVP 범위를 명확히 구분했습니다
- NFR(비기능 요구사항)이 관련 스토리의 Acceptance Criteria에 명시되었습니다
- 데이터 엔티티(Order, OrderItem, OrderHistory)가 주문 관련 스토리에 명시되었습니다
- 동시성 처리 및 충돌 시나리오가 고려되었습니다

## 개선 사항 (2026-02-09)

### Requirements 개선
1. FR-A2: 최신 주문 미리보기 개수를 "n개"에서 "3개"로 구체화
2. FR-A4: 메뉴 이미지 업로드 제약사항 추가 (JPG/PNG, 최대 5MB, 진행률 표시)

### User Stories 개선
1. **Story 1.5 추가**: 세션 만료 처리 (Must Have)
   - 세션 만료 5분 전 경고
   - 세션 연장 기능
   - 자동 로그아웃 처리

2. **Story 5.5 추가**: 동시 주문 상태 변경 처리 (Should Have)
   - 다중 관리자 동시 작업 시 충돌 방지
   - 실시간 상태 동기화

3. **NFR 반영**: 성능, 보안, 사용성, 신뢰성 요구사항을 관련 스토리에 명시
   - Story 2.1: 페이지 로딩 3초 이내, 터치 친화적 UI
   - Story 4.1: 주문 실패 시 장바구니 유지 (신뢰성)
   - Story 4.3, 5.1: 2초 이내 실시간 업데이트 (성능)

4. **메뉴 이미지 업로드 상세화**:
   - Story 7.2, 7.3: 파일 형식 제한, 크기 제한, 진행률 표시 추가

5. **데이터 엔티티 명시**:
   - Story 1.4: OrderHistory 엔티티 명시
   - Story 4.1: Order, OrderItem 엔티티 및 필수 필드 명시

6. **에러 처리 강화**:
   - SSE 재연결 로직 상세화 (3회 재시도)
   - 동시성 충돌 처리 추가

### 향후 고려사항
- 추가 페르소나: 주방 직원, 서빙 직원 (현재 MVP 범위 제외)
- 시스템 설계 시 확장 가능성 고려
