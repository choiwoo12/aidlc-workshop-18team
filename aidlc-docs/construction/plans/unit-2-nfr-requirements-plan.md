# Unit 2 NFR Requirements Plan - Customer Order Domain

## Overview

**Unit**: Unit 2 - Customer Order Domain  
**Purpose**: Unit 2 특화 NFR 요구사항 정의  
**Base**: Unit 1의 기술 스택 결정 상속

---

## Context

### Unit 1 기술 스택 (상속)
- Backend Framework: FastAPI
- Database: SQLite (파일 기반)
- ORM: SQLAlchemy 2.0+
- Frontend Framework: React 18.2+
- Build Tool: Vite 5.0+
- Styling: Tailwind CSS 3.4+
- HTTP Client: Axios 1.6+
- State Management: React Context API

### Unit 2 추가 기술 결정 필요
- SSE (Server-Sent Events) 구현 방식
- 장바구니 상태 관리 전략
- 메뉴 이미지 최적화
- 실시간 통신 성능

---

## Design Questions

다음 질문들에 답변하여 Unit 2의 NFR Requirements를 결정해주세요.

### Q1: SSE 연결 관리 전략

SSE 연결을 어떻게 관리하시겠습니까?

**A)** 단순 연결 (연결 끊김 시 수동 재연결)
- 장점: 단순한 구현
- 단점: 사용자가 수동으로 재연결 필요

**B)** 자동 재연결 (최대 3회)
- 장점: 사용자 편의성
- 단점: 재연결 로직 필요

**C)** 자동 재연결 + 지수 백오프 (무한 재시도)
- 장점: 높은 안정성
- 단점: 복잡한 구현

[Answer]: B

---

### Q2: SSE Keep-alive 간격

SSE Keep-alive 메시지를 얼마나 자주 전송하시겠습니까?

**A)** 10초마다
- 장점: 빠른 연결 끊김 감지
- 단점: 서버 부하 증가

**B)** 30초마다
- 장점: 균형잡힌 성능
- 단점: 연결 끊김 감지 지연

**C)** 60초마다
- 장점: 서버 부하 최소화
- 단점: 긴 연결 끊김 감지 시간

[Answer]: B

---

### Q3: 메뉴 이미지 최적화

메뉴 이미지를 어떻게 최적화하시겠습니까?

**A)** 최적화 없음 (원본 이미지 사용)
- 장점: 단순함
- 단점: 로딩 시간 증가

**B)** 리사이징만 (서버 측)
- 장점: 파일 크기 감소
- 단점: 추가 처리 필요

**C)** 리사이징 + WebP 변환
- 장점: 최적의 성능
- 단점: 복잡한 구현

**D)** 리사이징 + WebP + Lazy Loading
- 장점: 최고 성능
- 단점: 가장 복잡함

[Answer]: A

---

### Q4: 장바구니 동기화 전략

장바구니 데이터를 어떻게 동기화하시겠습니까?

**A)** SessionStorage만 (동기화 없음)
- 장점: 단순함
- 단점: 브라우저 종료 시 손실

**B)** SessionStorage + 주기적 서버 백업
- 장점: 데이터 안전성
- 단점: 서버 저장 필요

**C)** SessionStorage + 주문 생성 시에만 서버 전송
- 장점: 균형잡힌 접근
- 단점: 중간 손실 가능

[Answer]: A

---

### Q5: 메뉴 조회 캐싱 전략

메뉴 조회 결과를 어떻게 캐싱하시겠습니까?

**A)** 캐싱 없음 (매번 서버 조회)
- 장점: 항상 최신 데이터
- 단점: 서버 부하

**B)** 인메모리 캐싱 (5분 TTL)
- 장점: 빠른 응답
- 단점: 메뉴 변경 시 지연

**C)** 인메모리 캐싱 + 수동 무효화
- 장점: 빠른 응답 + 즉시 반영
- 단점: 무효화 로직 필요

[Answer]: A

---

### Q6: 주문 생성 응답 시간 목표

주문 생성 API의 응답 시간 목표를 어떻게 설정하시겠습니까?

**A)** 1초 이내
- 장점: 빠른 응답
- 단점: 높은 성능 요구

**B)** 2초 이내
- 장점: 균형잡힌 목표
- 단점: 약간의 대기 시간

**C)** 3초 이내
- 장점: 여유로운 목표
- 단점: 사용자 대기 시간 증가

[Answer]: B

---

### Q7: 메뉴 조회 응답 시간 목표

메뉴 조회 API의 응답 시간 목표를 어떻게 설정하시겠습니까?

**A)** 500ms 이내
- 장점: 매우 빠른 응답
- 단점: 높은 성능 요구

**B)** 1초 이내
- 장점: 빠른 응답
- 단점: 캐싱 필요

**C)** 2초 이내
- 장점: 여유로운 목표
- 단점: 사용자 대기 시간

[Answer]: B

---

### Q8: 동시 주문 처리 능력

동시에 몇 개의 주문을 처리할 수 있어야 하나요?

**A)** 5개 테이블 동시 주문
- 장점: 최소 요구사항
- 단점: 제한적

**B)** 10개 테이블 동시 주문
- 장점: 충분한 여유
- 단점: 약간의 성능 요구

**C)** 20개 테이블 동시 주문
- 장점: 높은 확장성
- 단점: 높은 성능 요구

[Answer]: A

---

### Q9: 에러 로깅 전략

에러를 어떻게 로깅하시겠습니까?

**A)** 콘솔 로그만
- 장점: 단순함
- 단점: 영구 기록 없음

**B)** 파일 로깅
- 장점: 영구 기록
- 단점: 파일 관리 필요

**C)** 파일 로깅 + 에러 레벨 분류
- 장점: 체계적 관리
- 단점: 복잡한 구현

[Answer]: B

---

### Q10: 장바구니 최대 항목 수

장바구니에 담을 수 있는 최대 항목 수를 제한하시겠습니까?

**A)** 제한 없음
- 장점: 사용자 자유도
- 단점: 성능 저하 가능

**B)** 20개 항목
- 장점: 합리적 제한
- 단점: 제한 필요성 낮음

**C)** 50개 항목
- 장점: 충분한 여유
- 단점: 여전히 성능 저하 가능

[Answer]: A

---

## Completion Checklist

- [x] 모든 질문에 답변 완료
- [x] 답변의 일관성 확인
- [x] 모호한 답변 없음
- [x] 계획 승인 준비

---

**문서 버전**: 1.0  
**작성일**: 2026-02-09  
**상태**: 완료
